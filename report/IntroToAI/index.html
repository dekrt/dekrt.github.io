<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>人工智能导论上机实验及课程论文 | dekrt's blog</title><meta name="keywords" content="报告 | report"><meta name="author" content="dekrt"><meta name="copyright" content="dekrt"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="软件学院GANG SHEN教授的人工智能导论上机实验及课程论文">
<meta property="og:type" content="article">
<meta property="og:title" content="人工智能导论上机实验及课程论文">
<meta property="og:url" content="https://dekrt.cn/report/IntroToAI/index.html">
<meta property="og:site_name" content="dekrt&#39;s blog">
<meta property="og:description" content="软件学院GANG SHEN教授的人工智能导论上机实验及课程论文">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s11.ax1x.com/2024/02/24/pFU6oCV.webp">
<meta property="article:published_time" content="2024-02-23T11:43:54.000Z">
<meta property="article:modified_time" content="2024-02-24T03:59:16.734Z">
<meta property="article:author" content="dekrt">
<meta property="article:tag" content="报告 | report">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s11.ax1x.com/2024/02/24/pFU6oCV.webp"><link rel="shortcut icon" href="https://s1.ax1x.com/2023/04/14/ppzvSxK.jpg"><link rel="canonical" href="https://dekrt.cn/report/IntroToAI/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '人工智能导论上机实验及课程论文',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-02-24 11:59:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="dekrt's blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s1.ax1x.com/2023/04/14/ppzvSxK.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s11.ax1x.com/2024/02/24/pFU6oCV.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">dekrt's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">人工智能导论上机实验及课程论文</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-02-23T11:43:54.000Z" title="发表于 2024-02-23 19:43:54">2024-02-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-02-24T03:59:16.734Z" title="更新于 2024-02-24 11:59:16">2024-02-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/report/">report</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>52分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="人工智能导论上机实验及课程论文"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/report/IntroToAI/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/report/IntroToAI/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>结课论文采用Latex进行撰写，可以直接在Github仓库查看PDF版本的论文(<a target="_blank" rel="noopener" href="https://github.com/dekrt/Reports">https://github.com/dekrt/Reports</a>)</p>
</blockquote>
<h1 align="center"> 十五数码问题求解算法及性能比较</h1>

<center><div style="height:2mm;"></div><div style="font-family:华文楷体;font-size:14pt;">dekrt</div></center>
<center><span style="font-family:华文楷体;font-size:9pt;line-height:9mm">华中科技大学 软件学院</span>
</center>
<div>
<div style="width:52px;float:left; font-family:方正公文黑体;">摘要：</div> 
<div style="overflow:hidden; font-family:华文楷体;">本论文详细研究并比较了不同算法在求解15数码问题上的性能。首先介绍了15数码问题的背景和研究意义，强调了其在人工智能和计算机科学领域的应用价值。接着，论文描述了15数码问题的状态表示方法，并详细阐述了使用A*搜索算法的求解过程，特别是汉明距离、曼哈顿距离和线性冲突等不同的启发式函数。通过设计实验，比较了这些启发式函数在解决15数码问题时的效率和有效性，展示了不同算法的求解时间、中间状态数和步数。最后，论文对实验结果进行了分析，讨论了不同算法的性能，并给出了对未来研究的建议。</div>
</div>
<div>
<div style="width:52px;float:left; font-family:方正公文黑体;">关键词：</div> 
<div style="overflow:hidden; font-family:华文楷体;">15数码问题；A*搜索算法；启发式函数；汉明距离；曼哈顿距离；线性冲突；性能比较；算法分析</div>
</div>

<h1 align="center">  Fifteen Digital Seeking solutions and comparison </h1>

<center><div style="height:2mm;"></div><div style="font-size:14pt;">dekrt</div></center>
<center><span style="font-size:9pt;line-height:9mm"><i>Huazhong University of Sci. and Tec., SSE</i></span>
</center>
<div>
<div style="width:82px;float:left;line-height:16pt"><b>Abstract: </b></div> 
<div style="overflow:hidden;line-height:16pt">This thesis studied in detail and compared the performance of different algorithms on solving 15 digital problems. First of all, the background and research significance of the 15 digital problems emphasized its application value in the field of artificial intelligence and computer science. Then, the paper describes the status representation method of the 15 digital problem, and elaborates in detail the process of solving the use of the A*search algorithm, especially the different inspirational functions such as Hanying distance, Manhattan distance and linear conflict. By designing experiments, the efficiency and effectiveness of these inspirational functions in solving 15 digital problems show the solution time, middle status and steps of different algorithms. Finally, the paper analyzed the experimental results, discussed the performance of different algorithms, and gave suggestions for future research.</div>
</div>
<div>
<div style="width:82px;float:left;line-height:16pt"><b>Key Words: </b></div> 
<div style="overflow:hidden;line-height:16pt">15 digital problems; a*search algorithm; inspiration function; distance of Hanying; Manhattan distance; linear conflict; performance comparison; algorithm analysis</div>
</div>


## 引言

### 问题背景和研究意义

#### 问题背景

8 数码问题，被广泛认为是一种经典的智力游戏，它不仅适合各年龄段的人群，还具有显著的益智作用。这个游戏在一个3x3的方盒内布置有8块正方形积木，每一块积木上都标有从1到8的数字，而剩余的一个空格允许周围的积木移动（即与空白交换位置）。玩家的任务是通过一系列的移动，将初始随机布局的积木恢复成特定的目标形式。这个过程中，只有空白周围的方块可以移动，因此达到目标布局通常需要多个步骤和策略的运用。

为了增加挑战性和复杂度，我们将8数码问题升级为15数码问题，即在一个4x4的方盒中，有15块标有数字的积木和一个空白格，如图1-1、图1-2所示。此问题的求解变得更加困难，需要更高级的策略和算法。因此，本研究旨在设计一个C++程序，实现一种快速且有效的算法，用于求解15数码问题，即如何用最少的步骤将给定的初始布局转换成目标形式。

<table style="border:none;text-align:center;width:auto;margin: 0 auto;">
    <tbody>
        <tr>
            <td style="padding: 6px"><img src="/report/IntroToAI/eight_digital.png"></td><td><img src="/report/IntroToAI/fifteen_digital.png"></td>
        </tr>
        <tr><td><strong>图 1-1  八数码问题</strong></td><td><strong>图 1-2  十五数码问题</strong></td></tr>
    </tbody>
</table>


#### 研究意义

15数码问题不仅是一种智力游戏，它在计算机科学和人工智能领域具有重要的理论和应用价值。该问题的求解涉及到多个领域的核心概念，包括算法设计、启发式搜索、复杂度分析等。通过开发高效的算法来解决这个问题，我们不仅能够提高解决类似智力游戏的能力，还能够在算法设计和优化方面获得深刻的洞见。

此外，15数码问题的算法研究也对人工智能领域有着直接的影响。高效的算法可以为人工智能系统中的问题求解提供范例，尤其是在路径规划、模式识别和自动决策制定等领域。它还可以作为算法教学和研究的一个有价值的案例，帮助学生和研究人员更好地理解复杂问题求解的策略和方法。

### 实验目的和实验内容

#### 实验目的

研究和比较 15 数码问题不同求解方法的性能，包括算法中的时间/空间复杂度和解决问题的效率。 

#### 实验内容

1. 实现 15 数码问题的表示和求解算法，包括状态表示、初始状态生成、搜索算法、解的判断等。
2. 选择并实现至少三种不同的启发函数形式，使用 A\*算法实现。 
3. 设计实验案例，划分等价类，生成不同难度级别的 15 数码问题实例。
4. 在不同启发函数下，对实例进行求解，记录求解时间和步数。

## 问题的表示和求解算法

### 15 数码问题的状态表示方法

15数码问题的状态可以通过一个4x4的矩阵来表示，其中15个单元格包含从1到15的数字，剩下一个单元格为空，表示可以移动的空间。在本次编程实现中，这个矩阵用二维数组status\[][]来表示，空格用特殊字符（本此实验中为字符'0'）表示。如下文的代码所示：

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义二维数组来存储数据表示某一个特定状态</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> status[size][size];</span><br><span class="line"></span><br><span class="line"><span class="comment">//开始状态与目标状态</span></span><br><span class="line">status start = &#123;&#125;;</span><br><span class="line">status target = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">0</span>&#125;;</span><br></pre></td></tr></table></figure>

### 15 数码问题的求解算法

1. **搜索算法**：求解15数码问题通常使用A\*搜索算法。A\*算法是一种启发式搜索算法，它结合了最优优先搜索的高效性和Dijkstra算法的确保最短路径的特性。它通过维护一个优先队列来选择下一个探索的状态，优先考虑估计成本最低的状态。

2. **启发式函数**：在A*算法中，启发式函数用于估计从当前状态到目标状态的最小成本。常用的启发式函数包括：

- **汉明距离（Hamming Distance）**：这是计算每个方块不在其目标位置的数量。简单来说，就是计数有多少数字不在正确的位置上。

![img](https://img-blog.csdnimg.cn/20210222152739505.png)

<center><strong>图 2-1  汉明距离表示示意图</strong></center>

<ul>
<li><strong>曼哈顿距离（Manhattan Distance）</strong>：对于每个方块，计算其在网格上从当前位置到目标位置的最少移动次数（只考虑水平和垂直移动）。所有方块的曼哈顿距离之和就是启发式的估计值。计算公式为 $ h(n) = |n_x - goal_x| + |n_y - goal_y| )$，其中 $( n_x, n_y )$ 是当前节点的坐标，$( goal_x, goal_y )$ 是目标节点的坐标。</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210222153032200.png" alt="img"></p>
<center><strong>图 2-2  曼哈顿距离表示示意图</strong></center>

<ul>
<li><p><strong>线性冲突（Linear Conflict）</strong>：这是对曼哈顿距离的一种改进。如果两个方块在同一行或列中，并且都处于彼此的目标路径上，那么它们之间存在线性冲突。对于每对发生冲突的方块，需要额外的移动次数来解决这个冲突。因此，总的启发式估计值是曼哈顿距离加上所有线性冲突的调整值。</p>
</li>
<li><p><strong>模式数据库（Pattern Database）</strong>：这是一种预先计算并存储特定模式或方块组合的最优解的方法。对于十五数码问题，可以创建几个模式数据库，每个数据库对应网格上一组特定的方块。然后，将这些数据库中的值相加以得到启发式估计。</p>
<p>这些启发式函数在实践中的表现取决于具体的问题实例和算法的实现细节。通常，更复杂的启发式函数（如线性冲突和模式数据库）可以提供更准确的估计，但同时也可能需要更多的计算资源。在本次实验中，选择的启发函数为<strong>：汉明距离（Hamming Distance）、曼哈顿距离（Manhattan Distance）和线性冲突（Linear Conflict）。</strong></p>
</li>
</ul>
<ol>
<li><p><strong>状态转换和扩展</strong>：在每一步中，算法探索所有可能的移动（上、下、左、右），生成新的状态。每个新状态都会根据其成本（已走步数+启发式估计成本）加入到优先队列中。</p>
</li>
<li><p><strong>初始状态和目标状态</strong>：在本实验中，初始状态从可以通过Console控制台进行输入，可以针对不同难度的测试样式进行测试；目标状态是数字顺序排列（1到15）和一个空格（0），在代码中已经做好定义。</p>
</li>
</ol>
<h2 id="实验设计"><a href="#实验设计" class="headerlink" title="实验设计"></a>实验设计</h2><h3 id="实验目标和评价指标"><a href="#实验目标和评价指标" class="headerlink" title="实验目标和评价指标"></a>实验目标和评价指标</h3><p>本实验的主要目标是研究并比较不同求解方法在解决15数码问题时的性能。为了实现这一目标，需要定义具体的评价指标，这些指标将用于量化和比较各种算法的有效性。主要评价指标包括：</p>
<ol>
<li><strong>求解时间</strong>：从算法开始到找到最终解的总耗时。这是衡量算法效率的主要指标之一。</li>
<li><strong>中间状态数</strong>：在达到最终解决方案的过程中，算法生成并考察的总状态数量。中间状态数反映了算法的空间复杂度，即算法在寻找解决方案的过程中所需处理和存储的信息量。</li>
<li><strong>步数</strong>：从初始状态到达目标状态所需的最小移动次数。这反映了算法找到解决方案的优化程度。</li>
</ol>
<h3 id="设计不同难度级别的15数码问题实例"><a href="#设计不同难度级别的15数码问题实例" class="headerlink" title="设计不同难度级别的15数码问题实例"></a>设计不同难度级别的15数码问题实例</h3><h4 id="低难度实例"><a href="#低难度实例" class="headerlink" title="低难度实例"></a>低难度实例</h4><p>在低难度实例中，初始状态通过对目标状态进行5到10步随机合法移动得到。这些移动较少，因此解决起来相对容易。如图3-1、图3-2所示：</p>
<ul>
<li><strong>初始状态</strong>：5  1  3  4 2  0  7  8 10  6 11 12 9 13 14 15</li>
<li><strong>目标状态</strong>：1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 0</li>
</ul>
<table style="border:none;text-align:center;width:auto;margin: 0 auto;">
    <tbody>
        <tr>
            <td style="padding: 6px"><img src="/report/IntroToAI/low_difficulty.png"></td><td><img src="/report/IntroToAI/target.png"></td>
        </tr>
        <tr><td><strong>图 3-1  低难度十五数码实例</strong></td><td><strong>图 3-2  目标状态</strong></td></tr>
    </tbody>
</table>


<p>其最短步骤如下所示：</p>
<p><img src="/report/IntroToAI/low_difficulty_solution.png" alt></p>
<center><strong>图 3-3  低难度实例解决方法</strong></center>

<h4 id="高难度实例"><a href="#高难度实例" class="headerlink" title="高难度实例"></a>高难度实例</h4><p>高难度实例通过对目标状态执行41步的随机合法移动来生成。这个实例更难解决，需要更多时间和资源。</p>
<ul>
<li><strong>初始状态</strong>：11 9 4 15 1 3 0 12 7 5 8 6 13 2 10 14</li>
<li><strong>目标状态</strong>：1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 0</li>
</ul>
<table style="border:none;text-align:center;width:auto;margin: 0 auto;">
    <tbody>
        <tr>
            <td style="padding: 6px"><img src="/report/IntroToAI/high_difficulty.png"></td><td><img src="/report/IntroToAI/target.png"></td>
        </tr>
        <tr><td><strong>图 3-4  高难度十五数码实例</strong></td><td><strong>图 3-5  目标状态</strong></td></tr>
    </tbody>
</table>


<p>其最短步骤如下所示：</p>
<p><img src="/report/IntroToAI/high_difficulty_solution.png" width="95%" height="90%/"></p>
<center><strong>图 3-6  高难度实例解决方法</strong></center>

<p>在设计实验时，可以使用这些具体实例来评估不同算法在解决15数码问题上的性能。通过对这些不同难度级别的实例进行测试，可以更准确地衡量和比较各种求解方法的时间和空间效率。</p>
<h3 id="选择并实现不同的搜索算法"><a href="#选择并实现不同的搜索算法" class="headerlink" title="选择并实现不同的搜索算法"></a>选择并实现不同的搜索算法</h3><h4 id="不同的启发函数"><a href="#不同的启发函数" class="headerlink" title="不同的启发函数"></a>不同的启发函数</h4><p>在本实验中，我们将专注于使用A*搜索算法，并采用三种不同的启发式函数来评估算法的效率和有效性。以下是我们将实现和比较的三种启发式函数：</p>
<ol>
<li><strong>汉明距离（Hamming Distance）</strong>：这种方法计算当前状态中与目标状态不匹配的方块数量。对于15数码问题，就是计算除空格外，放置位置错误的方块数量。汉明距离简单易计算，但可能不够精确，因为它没有考虑到达目标状态所需的实际步数。</li>
<li><strong>曼哈顿距离（Manhattan Distance）</strong>：此方法计算每个数字方块从其当前位置到目标位置的格子数总和。对于每个方块，其曼哈顿距离是其在行和列上的距离之和。曼哈顿距离考虑了方块需要移动的实际距离，因此比汉明距离提供了更精确的启发式估计。</li>
<li><strong>线性冲突（Linear Conflict）</strong>：这种方法在曼哈顿距离的基础上增加了额外的考虑因素。如果两个方块在达到其最终位置之前需要交换位置，那么这被认为是一个线性冲突。例如，如果两个方块在同一行或同一列中并且它们的目标位置也在这一行或列中，但它们的顺序是错误的，那么每对线性冲突将增加两步到总曼哈顿距离中。这使得启发式估计更加接近实际的最小步数。</li>
</ol>
<p>在本次实验中，我们通过定义宏变量的方式来选择不同的启发函数，在程序编译的过程中会自动选择我们需要的启发函数，如下述代码所示：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过宏定义确定启发函数</span></span><br><span class="line"><span class="comment">//#define HAMMING</span></span><br><span class="line"><span class="comment">//#define MANHATTAN</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LINEAR</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算结点h值</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">computeHValue</span><span class="params">(PNode theNode)</span> </span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> HAMMING</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hammingDistance</span>(theNode);</span><br><span class="line"><span class="meta">#elifdef MANHATTAN</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">manhattanDistance</span>(theNode);</span><br><span class="line"><span class="meta">#elifdef LINEAR</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">linearConflict</span>(theNode);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;错误：请先定义启发函数方式！&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="实验方法"><a href="#实验方法" class="headerlink" title="实验方法"></a>实验方法</h4><p>对于每种启发式函数，将使用A*搜索算法求解一系列不同难度级别的15数码问题实例。实验将记录每种情况下的求解时间和步数，以及算法的空间复杂度。通过比较这些不同启发式函数的性能，我们可以评估哪种方法在求解15数码问题时最有效。这种比较将有助于理解不同启发式函数对搜索算法效率的影响，从而为开发更高效的问题求解策略提供重要的洞见。如下面的代码所示：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 记录开始时间</span></span><br><span class="line"><span class="keyword">auto</span> start = chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">...<span class="comment">// 程序代码</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//计算结束时间</span></span><br><span class="line"><span class="keyword">auto</span> end = chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算并输出求解时间</span></span><br><span class="line">chrono::duration&lt;<span class="keyword">double</span>&gt; elapsed = end - start;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;求解时间: &quot;</span> &lt;&lt; elapsed.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;秒&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出状态数</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;中间状态数：&quot;</span> &lt;&lt; numCount &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出步数</span></span><br><span class="line"><span class="keyword">if</span> (getGoal) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;步数: &quot;</span> &lt;&lt; tmpNode-&gt;g_value + <span class="number">1</span>  &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h2><h3 id="使用的不同方法及其特点"><a href="#使用的不同方法及其特点" class="headerlink" title="使用的不同方法及其特点"></a>使用的不同方法及其特点</h3><p>基于上述结果，我们可以得出每种方法的特点：</p>
<ol>
<li><p><strong>汉明距离（Hamming Distance）</strong>：</p>
<ul>
<li>特点：计算当前状态中与目标状态不匹配的方块数量。简单易计算，但不考虑实际步数，可能不够精确。</li>
<li>优点：实现简单，计算速度快。</li>
<li>缺点：对于更复杂的布局，可能无法提供足够有效的指导。</li>
</ul>
</li>
<li><p><strong>曼哈顿距离（Manhattan Distance）</strong>：</p>
<ul>
<li>特点：计算每个数字方块从其当前位置到目标位置的格子数总和。更准确地反映了方块的实际移动距离。</li>
<li>优点：相对准确，适用于大多数情况。</li>
<li>缺点：计算量比汉明距离大，可能导致搜索速度略慢。</li>
</ul>
</li>
<li><p><strong>线性冲突（Linear Conflict）</strong>：</p>
<ul>
<li>特点：在曼哈顿距离的基础上增加了额外的线性冲突考量，考虑了特定方块之间的相互影响。</li>
<li>优点：提供了更接近实际步数的估计，可以在某些情况下加速解的发现。</li>
<li>缺点：计算复杂度更高，对于一些简单布局可能是过度优化。</li>
</ul>
</li>
</ol>
<h3 id="实验结果的展示"><a href="#实验结果的展示" class="headerlink" title="实验结果的展示"></a>实验结果的展示</h3><p>通过运行程序，我们得到了下面的结果运行结果，表4-1展示了不同方法在相同实例下的性能差异。通过对比求解时间和步数，可以看出哪种方法在特定情况下更加高效。例如，在实例1中，曼哈顿距离表现出了更短的求解时间和更少的步数；而在实例2中，线性冲突求解时间更短、步数更少，显示出其在更复杂的布局中的优势。</p>
<center><strong>表 4-1  不同实例在每种方法下的求解结果</strong></center>

<div class="table-container">
<table>
<thead>
<tr>
<th>实例名称</th>
<th>求解时间 (秒)</th>
<th>中间状态数</th>
<th>步数</th>
<th>启发函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>低难度实例</td>
<td>0.000327873</td>
<td>24</td>
<td>10</td>
<td>汉明距离</td>
</tr>
<tr>
<td>低难度实例</td>
<td>0.000260946</td>
<td>12</td>
<td>10</td>
<td>曼哈顿距离</td>
</tr>
<tr>
<td>低难度实例</td>
<td>0.000327643</td>
<td>12</td>
<td>10</td>
<td>线性冲突</td>
</tr>
<tr>
<td>高难度实例</td>
<td>TLE</td>
<td>TLE</td>
<td>TLE</td>
<td>汉明距离</td>
</tr>
<tr>
<td>高难度实例</td>
<td>22.2947</td>
<td>31056</td>
<td>41</td>
<td>曼哈顿距离</td>
</tr>
<tr>
<td>高难度实例</td>
<td>3.87911</td>
<td>13438</td>
<td>41</td>
<td>线性冲突</td>
</tr>
</tbody>
</table>
</div>
<center><i>* TLE: Time Limit Exceed, 超出运行时长要求限制。</i></center>

<h2 id="实验分析与讨论"><a href="#实验分析与讨论" class="headerlink" title="实验分析与讨论"></a>实验分析与讨论</h2><h3 id="性能比较"><a href="#性能比较" class="headerlink" title="性能比较"></a>性能比较</h3><p>在实验中，我们对比了三种不同启发式函数（汉明距离、曼哈顿距离和线性冲突）在解决15数码问题时的性能表现。下面是对这些方法的性能比较和分析：</p>
<ol>
<li><p><strong>汉明距离</strong>：</p>
<ul>
<li>在低难度实例中表现适中，但在高难度实例中无法在合理时间内找到解决方案（时间超限TLE）。</li>
<li>汉明距离作为一种简单的启发式函数，在处理复杂问题时效率较低。</li>
</ul>
</li>
<li><p><strong>曼哈顿距离</strong>：</p>
<ul>
<li>在低难度实例中效率高，求解时间和中间状态数均优于汉明距离。</li>
<li>在高难度实例中能够找到解决方案，但求解时间较长，生成的中间状态数量多。</li>
</ul>
</li>
<li><p><strong>线性冲突</strong>：</p>
<ul>
<li>在低难度实例中的表现与曼哈顿距离相似。</li>
<li>在高难度实例中表现最优，求解时间和中间状态数都显著优于其他方法。</li>
</ul>
</li>
</ol>
<h3 id="定性和定量分析"><a href="#定性和定量分析" class="headerlink" title="定性和定量分析"></a>定性和定量分析</h3><ul>
<li><p><strong>定量分析</strong>：通过实验数据，我们可以看到，尤其在高难度实例中，线性冲突的求解时间和中间状态数明显低于曼哈顿距离和汉明距离。这表明线性冲突在处理复杂情况时更高效。</p>
</li>
<li><p><strong>定性分析</strong>：汉明距离由于其简单性，在面对复杂情况时往往不足以提供有效的启发。曼哈顿距离，虽然比汉明距离更准确，但在处理特定的线性冲突情况时效率不高。线性冲突通过在曼哈顿距离的基础上增加额外的考量，能够更好地指导搜索过程，尤其是在复杂的实例中。</p>
</li>
</ul>
<h3 id="结果可视化"><a href="#结果可视化" class="headerlink" title="结果可视化"></a>结果可视化</h3><h4 id="性能比较可视化"><a href="#性能比较可视化" class="headerlink" title="性能比较可视化"></a>性能比较可视化</h4><p>为了直观展示不同方法的性能差异，本实验使用条形图来表示求解时间和步数的比较。对于每种方法，使用一个条形图来表示不同实例下的求解时间，步数和中间状态数。这种可视化方法可以直观地显示出在不同复杂度的实例中，哪种方法更有效，以及它们在性能上的差异。</p>
<p><img src="/report/IntroToAI/Visualization.png" alt></p>
<center><strong>图 5-1  实验结果可视化</strong></center>

<h4 id="求解过程可视化"><a href="#求解过程可视化" class="headerlink" title="求解过程可视化"></a>求解过程可视化</h4><p>本实验的代码中通过宏定义DEBUG来打印中间过程的数据，便于展现求解过程中f值、g值和h值的变化，如下述代码所示：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 是否打印中间状态</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">    </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DEBUG</span></span><br><span class="line">        <span class="comment">//打印中间状态</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;第%ld个状态是：&quot;</span>, numCount++);</span><br><span class="line">        <span class="built_in">outputStatus</span>(tmpNode);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;f值: %-2d; g值: %-2d; h值: %-2d\n\n&quot;</span>,</span><br><span class="line">               tmpNode-&gt;f_value, tmpNode-&gt;g_value, tmpNode-&gt;h_value);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        numCount++;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>输出如下：</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">5<span class="number"> 1 </span>3<span class="number"> 4 </span>2<span class="number"> 0 </span>7<span class="number"> 8 </span>10<span class="number"> 6 </span>11<span class="number"> 12 </span>9<span class="number"> 13 </span>14 15</span><br><span class="line">第1个状态是：</span><br><span class="line">5 <span class="number"> 1 </span><span class="number"> 3 </span><span class="number"> 4 </span> </span><br><span class="line">2 <span class="number"> 0 </span><span class="number"> 7 </span><span class="number"> 8 </span> </span><br><span class="line">10<span class="number"> 6 </span><span class="number"> 11 </span>12 </span><br><span class="line">9 <span class="number"> 13 </span>14<span class="number"> 15 </span></span><br><span class="line"></span><br><span class="line">f值: 10; g值:<span class="number"> 0 </span>; h值: 10</span><br><span class="line"></span><br><span class="line">第2个状态是：</span><br><span class="line">5 <span class="number"> 1 </span><span class="number"> 3 </span><span class="number"> 4 </span> </span><br><span class="line">0 <span class="number"> 2 </span><span class="number"> 7 </span><span class="number"> 8 </span> </span><br><span class="line">10<span class="number"> 6 </span><span class="number"> 11 </span>12 </span><br><span class="line">9 <span class="number"> 13 </span>14<span class="number"> 15 </span></span><br><span class="line"></span><br><span class="line">f值: 10; g值:<span class="number"> 1 </span>; h值:<span class="number"> 9 </span></span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><h3 id="实验结果总结"><a href="#实验结果总结" class="headerlink" title="实验结果总结"></a>实验结果总结</h3><p>本次实验对15数码问题的求解进行了深入的分析和比较，主要关注点在于不同启发式函数在A*搜索算法中的表现。实验结果显示：</p>
<ol>
<li><p><strong>不同启发式函数的表现</strong>：在低难度实例中，曼哈顿距离和线性冲突表现出接近的高效率，而汉明距离虽然能够解决问题，但效率稍低。在高难度实例中，汉明距离无法在合理时间内找到解决方案，而线性冲突在求解时间和生成的中间状态数量上均显著优于曼哈顿距离。</p>
</li>
<li><p><strong>效率和复杂度</strong>：线性冲突由于其在曼哈顿距离的基础上增加了额外考虑因素，因此在处理更复杂的布局时更为高效。这表明复杂问题求解中，考虑更多因素的启发式函数可能更优。</p>
</li>
</ol>
<h3 id="改进思考与建议"><a href="#改进思考与建议" class="headerlink" title="改进思考与建议"></a>改进思考与建议</h3><ol>
<li><p><strong>启发式函数的优化</strong>：虽然线性冲突在本实验中表现最佳，但仍有进一步优化的空间。可以考虑开发新的启发式函数，或改进现有的函数，使其更精确地反映实际解决问题所需的步骤。</p>
</li>
<li><p><strong>算法的混合使用</strong>：在不同阶段或不同类型的实例中，结合使用不同的启发式函数可能会提高效率。例如，对于简单实例使用曼哈顿距离，在达到一定复杂度后切换到线性冲突。</p>
</li>
<li><p><strong>探索其他搜索算法</strong>：虽然A*算法在许多情况下有效，但探索其他搜索算法，如IDA*或双向搜索，可能在特定情况下更有效。</p>
</li>
<li><p><strong>内存和处理优化</strong>：考虑到高难度实例中生成的大量中间状态，优化内存管理和处理效率是提高算法整体性能的关键。例如，可以采用更高效的数据结构或改进状态存储方法。</p>
</li>
<li><p><strong>并行计算</strong>：考虑到15数码问题的计算密集性，利用并行计算资源（如多线程或分布式计算）可能会显著提高求解速度。</p>
</li>
<li><p><strong>实际应用场景的适应性</strong>：考虑将这些算法应用于实际问题时的适应性，如机器人路径规划等，可能需要对算法进行相应的调整和优化。</p>
</li>
</ol>
<p>总的来说，本实验提供了对15数码问题求解方法的深入理解，并指出了现有方法的优势和局限性。未来的工作应着重于进一步优化算法性能，同时探索新的算法和技术，以提高解决复杂问题的效率和准确性。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>[1] Korf, R. E. (1985). Depth-first iterative-deepening: An optimal admissible tree search. <em>Artificial Intelligence</em>, 27(1), 97-109.</p>
<p>[2] Hart, P. E., Nilsson, N. J., &amp; Raphael, B. (1968). A formal basis for the heuristic determination of minimum cost paths. <em>IEEE Transactions on Systems Science and Cybernetics</em>, 4(2), 100-107.</p>
<p>[3] Manzini, G. (1995). BIDA*: An improved perimeter search algorithm. <em>Artificial Intelligence</em>, 75(2), 347-360.</p>
<p>[4] Felner, A., Korf, R. E., &amp; Hanan, S. (2004). Additive pattern database heuristics. <em>Journal of Artificial Intelligence Research</em>, 22, 279-318.</p>
<p>[5] Edelkamp, S., &amp; Schrödl, S. (2012). <em>Heuristic Search: Theory and Applications</em>. Elsevier.</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="实验代码"><a href="#实验代码" class="headerlink" title="实验代码"></a>实验代码</h3><h4 id="a-star-cpp"><a href="#a-star-cpp" class="headerlink" title="a_star.cpp"></a>a_star.cpp</h4><blockquote>
<p>求解十五数码问题的C++代码，仅使用C++的部分新特性，核心数据结构均为C语言实现。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;chrono&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> size 4</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过宏定义确定启发函数</span></span><br><span class="line"><span class="comment">//#define HAMMING</span></span><br><span class="line"><span class="comment">//#define MANHATTAN</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LINEAR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否打印中间状态</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义二维数组来存储数据表示某一个特定状态</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> status[size][size];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SpringLink</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义状态图中的结点数据结构</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    status data;                <span class="comment">//结点所存储的状态</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">parent</span>;</span>        <span class="comment">//指向结点的父亲结点</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">SpringLink</span> *<span class="title">child</span>;</span>   <span class="comment">//指向结点的后继结点</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>          <span class="comment">//指向open或者closed表中的后一个结点</span></span><br><span class="line">    <span class="keyword">int</span> f_value;                <span class="comment">//结点的总的路径</span></span><br><span class="line">    <span class="keyword">int</span> g_value;                <span class="comment">//结点的实际路径</span></span><br><span class="line">    <span class="keyword">int</span> h_value;                <span class="comment">//结点的估计成本值</span></span><br><span class="line">&#125; NNode, *PNode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义存储指向结点后继结点的指针的地址</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">SpringLink</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">pointData</span>;</span>     <span class="comment">//指向结点的指针</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">SpringLink</span> *<span class="title">next</span>;</span>    <span class="comment">//指向兄第结点</span></span><br><span class="line">&#125; SPLink, *PSPLink;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PNode open;</span><br><span class="line">PNode closed;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//开始状态与目标状态</span></span><br><span class="line">status start = &#123;&#125;;</span><br><span class="line">status target = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化一个空链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initLink</span><span class="params">(PNode &amp;Head)</span> </span>&#123;</span><br><span class="line">    Head = (PNode) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(NNode));</span><br><span class="line">    Head-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断链表是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">(PNode Head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Head-&gt;next == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//从链表中拿出一个数据</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">popNode</span><span class="params">(PNode &amp;Head, PNode &amp;FNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isEmpty</span>(Head)) &#123;</span><br><span class="line">        FNode = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    FNode = Head-&gt;next;</span><br><span class="line">    Head-&gt;next = Head-&gt;next-&gt;next;</span><br><span class="line">    FNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//向结点的最终后继结点链表中添加新的子结点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addSpringNode</span><span class="params">(PNode &amp;Head, PNode newData)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> newNode = (PSPLink) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(SPLink));</span><br><span class="line">    newNode-&gt;pointData = newData;</span><br><span class="line">    newNode-&gt;next = Head-&gt;child;</span><br><span class="line">    Head-&gt;child = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//释放状态图中存放结点后继结点地址的空间</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">freeSpringLink</span><span class="params">(PSPLink &amp;Head)</span> </span>&#123;</span><br><span class="line">    PSPLink tmm;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (Head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        tmm = Head;</span><br><span class="line">        Head = Head-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(tmm);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//释放open表与closed表中的资源</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">freeLink</span><span class="params">(PNode &amp;Head)</span> </span>&#123;</span><br><span class="line">    PNode tmn;</span><br><span class="line"></span><br><span class="line">    tmn = Head;</span><br><span class="line">    Head = Head-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(tmn);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (Head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="comment">//首先释放存放结点后继结点地址的空间</span></span><br><span class="line">        <span class="built_in">freeSpringLink</span>(Head-&gt;child);</span><br><span class="line">        tmn = Head;</span><br><span class="line">        Head = Head-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(tmn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//向普通链表中添加一个结点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addNode</span><span class="params">(PNode &amp;Head, PNode &amp;newNode)</span> </span>&#123;</span><br><span class="line">    newNode-&gt;next = Head-&gt;next;</span><br><span class="line">    Head-&gt;next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//向非递减排列的链表中添加一个结点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addAscNode</span><span class="params">(PNode &amp;Head, PNode &amp;newNode)</span> </span>&#123;</span><br><span class="line">    PNode P;</span><br><span class="line">    PNode Q;</span><br><span class="line"></span><br><span class="line">    P = Head-&gt;next;</span><br><span class="line">    Q = Head;</span><br><span class="line">    <span class="keyword">while</span> (P != <span class="literal">nullptr</span> &amp;&amp; P-&gt;f_value &lt; newNode-&gt;f_value) &#123;</span><br><span class="line">        Q = P;</span><br><span class="line">        P = P-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//上面判断好位置之后，下面就是简单的插入了</span></span><br><span class="line">    newNode-&gt;next = Q-&gt;next;</span><br><span class="line">    Q-&gt;next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 汉明距离</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hammingDistance</span><span class="params">(PNode theNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (theNode-&gt;data[i][j] != target[i][j])</span><br><span class="line">                num++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 曼哈顿距离</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">manhattanDistance</span><span class="params">(PNode theNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> distance = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">int</span> value = theNode-&gt;data[i][j];</span><br><span class="line">            <span class="keyword">if</span> (value) &#123;</span><br><span class="line">                <span class="keyword">int</span> targetX = (value - <span class="number">1</span>) / <span class="number">4</span>;</span><br><span class="line">                <span class="keyword">int</span> targetY = (value - <span class="number">1</span>) % <span class="number">4</span>;</span><br><span class="line">                distance += <span class="built_in">abs</span>(i - targetX) + <span class="built_in">abs</span>(j - targetY);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> distance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">linearConflict</span><span class="params">(PNode theNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> distance = <span class="built_in">manhattanDistance</span>(theNode);</span><br><span class="line">    <span class="comment">// 在行方向检查</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = j + <span class="number">1</span>; k &lt; <span class="number">4</span>; ++k) &#123;</span><br><span class="line">                <span class="keyword">int</span> currentValue = theNode-&gt;data[i][j];</span><br><span class="line">                <span class="keyword">int</span> compareValue = theNode-&gt;data[i][k];</span><br><span class="line">                <span class="keyword">if</span> (currentValue != <span class="number">0</span> &amp;&amp; compareValue != <span class="number">0</span> &amp;&amp;</span><br><span class="line">                    (currentValue - <span class="number">1</span>) / <span class="number">4</span> == i &amp;&amp;</span><br><span class="line">                    (compareValue - <span class="number">1</span>) / <span class="number">4</span> == i &amp;&amp;</span><br><span class="line">                    (currentValue - <span class="number">1</span>) % <span class="number">4</span> &gt; (compareValue - <span class="number">1</span>) % <span class="number">4</span>) &#123;</span><br><span class="line">                    distance += <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 在列方向检查</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> l = i + <span class="number">1</span>; l &lt; <span class="number">4</span>; ++l) &#123;</span><br><span class="line">                <span class="keyword">int</span> currentValue = theNode-&gt;data[i][j];</span><br><span class="line">                <span class="keyword">int</span> compareValue = theNode-&gt;data[l][j];</span><br><span class="line">                <span class="keyword">if</span> (currentValue != <span class="number">0</span> &amp;&amp; compareValue != <span class="number">0</span> &amp;&amp;</span><br><span class="line">                    (currentValue - <span class="number">1</span>) % <span class="number">4</span> == j &amp;&amp;</span><br><span class="line">                    (compareValue - <span class="number">1</span>) % <span class="number">4</span> == j &amp;&amp;</span><br><span class="line">                    (currentValue - <span class="number">1</span>) / <span class="number">4</span> &gt; (compareValue - <span class="number">1</span>) / <span class="number">4</span>) &#123;</span><br><span class="line">                    distance += <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> distance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算结点h值</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">computeHValue</span><span class="params">(PNode theNode)</span> </span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> HAMMING</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hammingDistance</span>(theNode);</span><br><span class="line"><span class="meta">#elifdef MANHATTAN</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">manhattanDistance</span>(theNode);</span><br><span class="line"><span class="meta">#elifdef LINEAR</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">linearConflict</span>(theNode);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;错误：请先定义启发函数方式！&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算结点的f，g，h值</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">computeAllValue</span><span class="params">(PNode &amp;theNode, PNode parentNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (parentNode == <span class="literal">nullptr</span>)</span><br><span class="line">        theNode-&gt;g_value = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        theNode-&gt;g_value = parentNode-&gt;g_value + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    theNode-&gt;h_value = <span class="built_in">computeHValue</span>(theNode);</span><br><span class="line">    theNode-&gt;f_value = theNode-&gt;g_value + theNode-&gt;h_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化函数，进行算法初始条件的设置</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//初始化open以及closed表</span></span><br><span class="line">    <span class="built_in">initLink</span>(open);</span><br><span class="line">    <span class="built_in">initLink</span>(closed);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化起始结点，令初始结点的父节点为空结点</span></span><br><span class="line">    PNode nullptrNode = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">auto</span> Start = (PNode) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(NNode));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            Start-&gt;data[i][j] = start[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Start-&gt;parent = <span class="literal">nullptr</span>;</span><br><span class="line">    Start-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">    Start-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="built_in">computeAllValue</span>(Start, nullptrNode);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//起始结点进入open表</span></span><br><span class="line">    <span class="built_in">addAscNode</span>(open, Start);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//将B节点的状态赋值给A结点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">statusAEB</span><span class="params">(PNode &amp;ANode, PNode BNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            ANode-&gt;data[i][j] = BNode-&gt;data[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//两个结点是否有相同的状态</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hasSameStatus</span><span class="params">(PNode ANode, PNode BNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ANode-&gt;data[i][j] != BNode-&gt;data[i][j])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//结点与其祖先结点是否有相同的状态</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hasAnceSameStatus</span><span class="params">(PNode OriginNode, PNode AncientNode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (AncientNode != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">hasSameStatus</span>(OriginNode, AncientNode))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        AncientNode = AncientNode-&gt;parent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//取得方格中空的格子的位置</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getPosition</span><span class="params">(PNode theNode, <span class="keyword">int</span> &amp;row, <span class="keyword">int</span> &amp;col)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (theNode-&gt;data[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                row = i;</span><br><span class="line">                col = j;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//交换两个数字的值</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> &amp;A, <span class="keyword">int</span> &amp;B)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> C; C = B; B = A; A = C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//检查相应的状态是否在某一个链表中</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">inLink</span><span class="params">(PNode specificNode, PNode theLink, PNode &amp;theNodeLink, PNode &amp;preNode)</span> </span>&#123;</span><br><span class="line">    preNode = theLink;</span><br><span class="line">    theLink = theLink-&gt;next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (theLink != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">hasSameStatus</span>(specificNode, theLink)) &#123;</span><br><span class="line">            theNodeLink = theLink;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        preNode = theLink;</span><br><span class="line">        theLink = theLink-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//产生结点的后继结点(与祖先状态不同)链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SpringLink</span><span class="params">(PNode theNode, PNode &amp;spring)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> row;</span><br><span class="line">    <span class="keyword">int</span> col;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">getPosition</span>(theNode, row, col);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//空的格子右边的格子向左移动</span></span><br><span class="line">    <span class="keyword">if</span> (col != <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">auto</span> rlNewNode = (PNode) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(NNode));</span><br><span class="line">        <span class="built_in">statusAEB</span>(rlNewNode, theNode);</span><br><span class="line">        <span class="built_in">swap</span>(rlNewNode-&gt;data[row][col], rlNewNode-&gt;data[row][col + <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">hasAnceSameStatus</span>(rlNewNode, theNode-&gt;parent)) &#123;</span><br><span class="line">            <span class="built_in">free</span>(rlNewNode);<span class="comment">//与父辈相同，丢弃本结点</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            rlNewNode-&gt;parent = theNode;</span><br><span class="line">            rlNewNode-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">            rlNewNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="built_in">computeAllValue</span>(rlNewNode, theNode);</span><br><span class="line">            <span class="comment">//将本结点加入后继结点链表</span></span><br><span class="line">            <span class="built_in">addNode</span>(spring, rlNewNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//空的格子左边的格子向右移动</span></span><br><span class="line">    <span class="keyword">if</span> (col != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">auto</span> lrNewNode = (PNode) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(NNode));</span><br><span class="line">        <span class="built_in">statusAEB</span>(lrNewNode, theNode);</span><br><span class="line">        <span class="built_in">swap</span>(lrNewNode-&gt;data[row][col], lrNewNode-&gt;data[row][col - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">hasAnceSameStatus</span>(lrNewNode, theNode-&gt;parent)) &#123;</span><br><span class="line">            <span class="built_in">free</span>(lrNewNode);<span class="comment">//与父辈相同，丢弃本结点</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            lrNewNode-&gt;parent = theNode;</span><br><span class="line">            lrNewNode-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">            lrNewNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="built_in">computeAllValue</span>(lrNewNode, theNode);</span><br><span class="line">            <span class="comment">//将本结点加入后继结点链表</span></span><br><span class="line">            <span class="built_in">addNode</span>(spring, lrNewNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//空的格子上边的格子向下移动</span></span><br><span class="line">    <span class="keyword">if</span> (row != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">auto</span> udNewNode = (PNode) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(NNode));</span><br><span class="line">        <span class="built_in">statusAEB</span>(udNewNode, theNode);</span><br><span class="line">        <span class="built_in">swap</span>(udNewNode-&gt;data[row][col], udNewNode-&gt;data[row - <span class="number">1</span>][col]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">hasAnceSameStatus</span>(udNewNode, theNode-&gt;parent)) &#123;</span><br><span class="line">            <span class="built_in">free</span>(udNewNode);<span class="comment">//与父辈相同，丢弃本结点</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            udNewNode-&gt;parent = theNode;</span><br><span class="line">            udNewNode-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">            udNewNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="built_in">computeAllValue</span>(udNewNode, theNode);</span><br><span class="line">            <span class="comment">//将本结点加入后继结点链表</span></span><br><span class="line">            <span class="built_in">addNode</span>(spring, udNewNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//空的格子下边的格子向上移动</span></span><br><span class="line">    <span class="keyword">if</span> (row != <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">auto</span> duNewNode = (PNode) <span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(NNode));</span><br><span class="line">        <span class="built_in">statusAEB</span>(duNewNode, theNode);</span><br><span class="line">        <span class="built_in">swap</span>(duNewNode-&gt;data[row][col], duNewNode-&gt;data[row + <span class="number">1</span>][col]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">hasAnceSameStatus</span>(duNewNode, theNode-&gt;parent)) &#123;</span><br><span class="line">            <span class="built_in">free</span>(duNewNode);<span class="comment">//与父辈相同，丢弃本结点</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            duNewNode-&gt;parent = theNode;</span><br><span class="line">            duNewNode-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">            duNewNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="built_in">computeAllValue</span>(duNewNode, theNode);</span><br><span class="line">            <span class="comment">//将本结点加入后继结点链表</span></span><br><span class="line">            <span class="built_in">addNode</span>(spring, duNewNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//输出给定结点的状态</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">outputStatus</span><span class="params">(PNode stat)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++, <span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%-2d &quot;</span>, stat-&gt;data[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* // 这部分代码用于输出格式化的数据，便于使用Python进行数据可视化</span></span><br><span class="line"><span class="comment"> * putchar(&#x27;\n&#x27;);</span></span><br><span class="line"><span class="comment"> *     for (int i = 0; i &lt; 4; i++) &#123;</span></span><br><span class="line"><span class="comment">        printf(&quot;], [&quot;);</span></span><br><span class="line"><span class="comment">        for (int j = 0; j &lt; 4; j++) &#123;</span></span><br><span class="line"><span class="comment">            printf(&quot;%d, &quot;, stat-&gt;data[i][j]);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//输出最佳的路径</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">outputBestRoad</span><span class="params">(PNode goal)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> depth = goal-&gt;g_value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (goal-&gt;parent != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">outputBestRoad</span>(goal-&gt;parent);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;第&quot;</span> &lt;&lt; depth-- &lt;&lt; <span class="string">&quot;步的状态:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">outputStatus</span>(goal);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AStar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    PNode tmpNode;          <span class="comment">//指向从open表中拿出并放到closed表中的结点的指针</span></span><br><span class="line">    PNode spring;           <span class="comment">//tmpNode的后继结点链</span></span><br><span class="line">    PNode tmpLNode;         <span class="comment">//tmpNode的某一个后继结点</span></span><br><span class="line">    PNode tmpChartNode;</span><br><span class="line">    PNode thePreNode;       <span class="comment">//指向将要从closed表中移到open表中的结点的前一个结点的指针</span></span><br><span class="line">    <span class="keyword">bool</span> getGoal = <span class="literal">false</span>;   <span class="comment">//标识是否达到目标状态</span></span><br><span class="line">    <span class="keyword">long</span> numCount = <span class="number">1</span>;      <span class="comment">//记录从open表中拿出结点的序号</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//记录开始时间</span></span><br><span class="line">    <span class="keyword">auto</span> start = chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">initial</span>();              <span class="comment">//对函数进行初始化</span></span><br><span class="line">    <span class="built_in">initLink</span>(spring);    <span class="comment">//对后继链表的初始化</span></span><br><span class="line">    tmpChartNode = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isEmpty</span>(open)) &#123;</span><br><span class="line">        <span class="comment">//从open表中拿出f值最小的元素,并将拿出的元素放入closed表中</span></span><br><span class="line">        <span class="built_in">popNode</span>(open, tmpNode);</span><br><span class="line">        <span class="built_in">addNode</span>(closed, tmpNode);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DEBUG</span></span><br><span class="line">        <span class="comment">//打印中间状态</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;第%ld个状态是：&quot;</span>, numCount++);</span><br><span class="line">        <span class="built_in">outputStatus</span>(tmpNode);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;f值: %-2d; g值: %-2d; h值: %-2d\n\n&quot;</span>,</span><br><span class="line">               tmpNode-&gt;f_value, tmpNode-&gt;g_value, tmpNode-&gt;h_value);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        numCount++;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">        <span class="comment">//如果拿出的元素是目标状态则跳出循环</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">computeHValue</span>(tmpNode) == <span class="number">0</span>) &#123;</span><br><span class="line">            getGoal = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//产生当前检测结点的后继(与祖先不同)结点列表，产生的后继结点的parent属性指向当前检测的结点</span></span><br><span class="line">        <span class="built_in">SpringLink</span>(tmpNode, spring);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历检测结点的后继结点链表</span></span><br><span class="line">        <span class="keyword">while</span> (!<span class="built_in">isEmpty</span>(spring)) &#123;</span><br><span class="line">            <span class="built_in">popNode</span>(spring, tmpLNode);</span><br><span class="line">            <span class="comment">//状态在open表中已经存在，thePreNode参数在这里并不起作用</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">inLink</span>(tmpLNode, open, tmpChartNode, thePreNode)) &#123;</span><br><span class="line">                <span class="built_in">addSpringNode</span>(tmpNode, tmpChartNode);</span><br><span class="line">                <span class="keyword">if</span> (tmpLNode-&gt;g_value &lt; tmpChartNode-&gt;g_value) &#123;</span><br><span class="line">                    tmpChartNode-&gt;parent = tmpLNode-&gt;parent;</span><br><span class="line">                    tmpChartNode-&gt;g_value = tmpLNode-&gt;g_value;</span><br><span class="line">                    tmpChartNode-&gt;f_value = tmpLNode-&gt;f_value;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">free</span>(tmpLNode);</span><br><span class="line">            &#125;</span><br><span class="line">                <span class="comment">//状态在closed表中已经存在</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">inLink</span>(tmpLNode, closed, tmpChartNode, thePreNode)) &#123;</span><br><span class="line">                <span class="built_in">addSpringNode</span>(tmpNode, tmpChartNode);</span><br><span class="line">                <span class="keyword">if</span> (tmpLNode-&gt;g_value &lt; tmpChartNode-&gt;g_value) &#123;</span><br><span class="line">                    PNode tempNode;</span><br><span class="line">                    tmpChartNode-&gt;parent = tmpLNode-&gt;parent;</span><br><span class="line">                    tmpChartNode-&gt;g_value = tmpLNode-&gt;g_value;</span><br><span class="line">                    tmpChartNode-&gt;f_value = tmpLNode-&gt;f_value;</span><br><span class="line">                    <span class="built_in">freeSpringLink</span>(tmpChartNode-&gt;child);</span><br><span class="line">                    tmpChartNode-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">                    <span class="built_in">popNode</span>(thePreNode, tempNode);</span><br><span class="line">                    <span class="built_in">addAscNode</span>(open, tempNode);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">free</span>(tmpLNode);</span><br><span class="line">            &#125;</span><br><span class="line">                <span class="comment">//新的状态即此状态既不在open表中也不在closed表中</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">addSpringNode</span>(tmpNode, tmpLNode);</span><br><span class="line">                <span class="built_in">addAscNode</span>(open, tmpLNode);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//目标可达的话，输出最佳的路径</span></span><br><span class="line">    <span class="keyword">if</span> (getGoal) &#123;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;路径长度为：&quot;</span> &lt;&lt; tmpNode-&gt;g_value &lt;&lt; endl;</span><br><span class="line">        <span class="built_in">outputBestRoad</span>(tmpNode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//释放结点所占的内存</span></span><br><span class="line">    <span class="built_in">freeLink</span>(open);</span><br><span class="line">    <span class="built_in">freeLink</span>(closed);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//计算结束时间</span></span><br><span class="line">    <span class="keyword">auto</span> end = chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算并输出求解时间</span></span><br><span class="line">    chrono::duration&lt;<span class="keyword">double</span>&gt; elapsed = end - start;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;求解时间: &quot;</span> &lt;&lt; elapsed.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;秒&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出状态数</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;中间状态数：&quot;</span> &lt;&lt; numCount &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出步数</span></span><br><span class="line">    <span class="keyword">if</span> (getGoal) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;步数: &quot;</span> &lt;&lt; tmpNode-&gt;g_value + <span class="number">1</span>  &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">getchar</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;i: start)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> &amp; j : i) &#123;</span><br><span class="line">            cin &gt;&gt; j;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">AStar</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="plot-ipynb"><a href="#plot-ipynb" class="headerlink" title="plot.ipynb"></a>plot.ipynb</h4><blockquote>
<p>绘制可视化图像的Python代码。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.colors <span class="keyword">as</span> mcolors</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(matplotlib.matplotlib_fname())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_15_puzzle</span>(<span class="params">state, title</span>):</span></span><br><span class="line">    fig, ax = plt.subplots()</span><br><span class="line">    matrix = np.array(state).reshape(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">    ax.matshow(np.where(matrix == <span class="number">0</span>, np.nan, matrix), cmap=<span class="string">&#x27;plasma&#x27;</span>)  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i, j), val <span class="keyword">in</span> np.ndenumerate(matrix):</span><br><span class="line">        text = <span class="string">&#x27;&#x27;</span> <span class="keyword">if</span> val == <span class="number">0</span> <span class="keyword">else</span> <span class="string">f&#x27;<span class="subst">&#123;val&#125;</span>&#x27;</span>.upper()</span><br><span class="line">        ax.text(j, i, text, ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;center&#x27;</span>, color=<span class="string">&#x27;white&#x27;</span>, fontsize=<span class="number">16</span>)  </span><br><span class="line"></span><br><span class="line">    plt.xticks([])</span><br><span class="line">    plt.yticks([])</span><br><span class="line">    plt.title(title, pad=<span class="number">20</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 定义不同难度级别的实例</span></span><br><span class="line">low_difficulty = [<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>,</span><br><span class="line">                  <span class="number">2</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span>,</span><br><span class="line">                  <span class="number">10</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>,</span><br><span class="line">                  <span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]</span><br><span class="line">high_difficulty = [<span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">15</span>,</span><br><span class="line">                   <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">12</span>,</span><br><span class="line">                   <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>,</span><br><span class="line">                   <span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]</span><br><span class="line"></span><br><span class="line">target = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>,</span><br><span class="line">          <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>,</span><br><span class="line">          <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>,</span><br><span class="line">          <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制不同难度的15数码问题实例</span></span><br><span class="line">plot_15_puzzle(low_difficulty, <span class="string">&quot;Low Difficulty Instance&quot;</span>)</span><br><span class="line">plot_15_puzzle(high_difficulty, <span class="string">&quot;High Difficulty Instance&quot;</span>)</span><br><span class="line">plot_15_puzzle(target, <span class="string">&quot;Target State&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制低难度求解步骤</span></span><br><span class="line">steps = [</span><br><span class="line">    np.array([[<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">10</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">0</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">10</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">10</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">10</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">10</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">10</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">0</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">9</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">0</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">13</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">13</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>], [<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">0</span>]])</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">base_cmap = plt.cm.get_cmap(<span class="string">&#x27;plasma&#x27;</span>)</span><br><span class="line">colors = base_cmap(np.arange(base_cmap.N))</span><br><span class="line">colors[<span class="number">0</span>, :] = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]  </span><br><span class="line">custom_cmap = mcolors.ListedColormap(colors)</span><br><span class="line"></span><br><span class="line">fig, axes = plt.subplots(nrows=<span class="number">2</span>, ncols=<span class="number">6</span>, figsize=(<span class="number">12</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">axes = axes.flatten()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, ax <span class="keyword">in</span> <span class="built_in">enumerate</span>(axes):</span><br><span class="line">    <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(steps):</span><br><span class="line">        ax.imshow(steps[i], cmap=custom_cmap, interpolation=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">        ax.set_title(<span class="string">f&quot;Step <span class="subst">&#123;i&#125;</span>&quot;</span>)</span><br><span class="line">        ax.set_xticks([])</span><br><span class="line">        ax.set_yticks([])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ax.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplots_adjust(hspace=<span class="number">0.5</span>, wspace=<span class="number">0.4</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制高难度求解步骤</span></span><br><span class="line">steps = [</span><br><span class="line">    np.array([[<span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">15</span> ], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">12</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">15</span> ], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">0</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">0</span> ], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">11</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">4</span> ], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">11</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">0</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">0</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">0</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">0</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">6</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">15</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">0</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">0</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">8</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">7</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">0</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">14</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">15</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">0</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">0</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="number">15</span>]]),</span><br><span class="line">    np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span> ], [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> ], [<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">0</span>]])</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">base_cmap = plt.cm.get_cmap(<span class="string">&#x27;plasma&#x27;</span>)</span><br><span class="line">colors = base_cmap(np.arange(base_cmap.N))</span><br><span class="line">colors[<span class="number">0</span>, :] = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]  <span class="comment"># Set the first row to white (RGBA)</span></span><br><span class="line">custom_cmap = mcolors.ListedColormap(colors)</span><br><span class="line"></span><br><span class="line">fig, axes = plt.subplots(nrows=<span class="number">7</span>, ncols=<span class="number">6</span>, figsize=(<span class="number">25</span>, <span class="number">42</span>))</span><br><span class="line"></span><br><span class="line">axes = axes.flatten()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, ax <span class="keyword">in</span> <span class="built_in">enumerate</span>(axes):</span><br><span class="line">    <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(steps):</span><br><span class="line">        ax.imshow(steps[i], cmap=custom_cmap, interpolation=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">        ax.set_title(<span class="string">f&quot;Step <span class="subst">&#123;i&#125;</span>&quot;</span>)</span><br><span class="line">        ax.set_xticks([])</span><br><span class="line">        ax.set_yticks([])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ax.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplots_adjust(hspace=<span class="number">0.5</span>, wspace=<span class="number">0.4</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可视化实验结果</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;Instance&quot;</span>: [<span class="string">&quot;Low Difficulty&quot;</span>, <span class="string">&quot;Low Difficulty&quot;</span>, <span class="string">&quot;Low Difficulty&quot;</span>, <span class="string">&quot;High Difficulty&quot;</span>, <span class="string">&quot;High Difficulty&quot;</span>, <span class="string">&quot;High Difficulty&quot;</span>],</span><br><span class="line">    <span class="string">&quot;Solve Time (s)&quot;</span>: [<span class="number">0.000327873</span>, <span class="number">0.000260946</span>, <span class="number">0.000327643</span>, <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>), <span class="number">22.2947</span>, <span class="number">3.87911</span>],  <span class="comment"># TLE represented as NaN</span></span><br><span class="line">    <span class="string">&quot;Intermediate States&quot;</span>: [<span class="number">24</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>), <span class="number">31056</span>, <span class="number">13438</span>], </span><br><span class="line">    <span class="string">&quot;Steps&quot;</span>: [<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>), <span class="number">41</span>, <span class="number">41</span>],  </span><br><span class="line">    <span class="string">&quot;Heuristic Function&quot;</span>: [<span class="string">&quot;Hamming Distance&quot;</span>, <span class="string">&quot;Manhattan Distance&quot;</span>, <span class="string">&quot;Linear Conflict&quot;</span>, <span class="string">&quot;Hamming Distance&quot;</span>, <span class="string">&quot;Manhattan Distance&quot;</span>, <span class="string">&quot;Linear Conflict&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line">df_low = df[df[<span class="string">&#x27;Instance&#x27;</span>] == <span class="string">&#x27;Low Difficulty&#x27;</span>]</span><br><span class="line">df_high = df[df[<span class="string">&#x27;Instance&#x27;</span>] == <span class="string">&#x27;High Difficulty&#x27;</span>]</span><br><span class="line"></span><br><span class="line">fig, axs = plt.subplots(<span class="number">2</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">10</span>))  </span><br><span class="line"></span><br><span class="line"><span class="comment"># Plotting for Low Difficulty</span></span><br><span class="line">df_low.plot.bar(x=<span class="string">&#x27;Heuristic Function&#x27;</span>, y=<span class="string">&#x27;Solve Time (s)&#x27;</span>, ax=axs[<span class="number">0</span>, <span class="number">0</span>], color=<span class="string">&#x27;skyblue&#x27;</span>, legend=<span class="literal">True</span>)</span><br><span class="line">df_low.plot.bar(x=<span class="string">&#x27;Heuristic Function&#x27;</span>, y=<span class="string">&#x27;Intermediate States&#x27;</span>, ax=axs[<span class="number">0</span>, <span class="number">1</span>], color=<span class="string">&#x27;lightgreen&#x27;</span>, legend=<span class="literal">True</span>)</span><br><span class="line">df_low.plot.bar(x=<span class="string">&#x27;Heuristic Function&#x27;</span>, y=<span class="string">&#x27;Steps&#x27;</span>, ax=axs[<span class="number">0</span>, <span class="number">2</span>], color=<span class="string">&#x27;salmon&#x27;</span>, legend=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plotting for High Difficulty</span></span><br><span class="line">df_high.plot.bar(x=<span class="string">&#x27;Heuristic Function&#x27;</span>, y=<span class="string">&#x27;Solve Time (s)&#x27;</span>, ax=axs[<span class="number">1</span>, <span class="number">0</span>], color=<span class="string">&#x27;skyblue&#x27;</span>, legend=<span class="literal">True</span>)</span><br><span class="line">df_high.plot.bar(x=<span class="string">&#x27;Heuristic Function&#x27;</span>, y=<span class="string">&#x27;Intermediate States&#x27;</span>, ax=axs[<span class="number">1</span>, <span class="number">1</span>], color=<span class="string">&#x27;lightgreen&#x27;</span>, legend=<span class="literal">True</span>)</span><br><span class="line">df_high.plot.bar(x=<span class="string">&#x27;Heuristic Function&#x27;</span>, y=<span class="string">&#x27;Steps&#x27;</span>, ax=axs[<span class="number">1</span>, <span class="number">2</span>], color=<span class="string">&#x27;salmon&#x27;</span>, legend=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Setting titles and labels</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    axs[<span class="number">0</span>, i].set_title(<span class="string">&quot;Low Difficulty&quot;</span>)</span><br><span class="line">    axs[<span class="number">1</span>, i].set_title(<span class="string">&quot;High Difficulty&quot;</span>)</span><br><span class="line">    axs[<span class="number">0</span>, i].set_xlabel(<span class="string">&quot;Heuristic Function&quot;</span>)</span><br><span class="line">    axs[<span class="number">1</span>, i].set_xlabel(<span class="string">&quot;Heuristic Function&quot;</span>)</span><br><span class="line">    axs[<span class="number">0</span>, i].set_xticklabels(axs[<span class="number">0</span>, i].get_xticklabels(), rotation=<span class="number">0</span>)</span><br><span class="line">    axs[<span class="number">1</span>, i].set_xticklabels(axs[<span class="number">1</span>, i].get_xticklabels(), rotation=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="实验数据表和图表"><a href="#实验数据表和图表" class="headerlink" title="实验数据表和图表"></a>实验数据表和图表</h3><center><strong>表 8-1  不同实例在每种方法下的求解结果</strong></center>

<div class="table-container">
<table>
<thead>
<tr>
<th>实例名称</th>
<th>求解时间 (秒)</th>
<th>中间状态数</th>
<th>步数</th>
<th>启发函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>低难度实例</td>
<td>0.000327873</td>
<td>24</td>
<td>10</td>
<td>汉明距离</td>
</tr>
<tr>
<td>低难度实例</td>
<td>0.000260946</td>
<td>12</td>
<td>10</td>
<td>曼哈顿距离</td>
</tr>
<tr>
<td>低难度实例</td>
<td>0.000327643</td>
<td>12</td>
<td>10</td>
<td>线性冲突</td>
</tr>
<tr>
<td>高难度实例</td>
<td>TLE</td>
<td>TLE</td>
<td>TLE</td>
<td>汉明距离</td>
</tr>
<tr>
<td>高难度实例</td>
<td>22.2947</td>
<td>31056</td>
<td>41</td>
<td>曼哈顿距离</td>
</tr>
<tr>
<td>高难度实例</td>
<td>3.87911</td>
<td>13438</td>
<td>41</td>
<td>线性冲突</td>
</tr>
</tbody>
</table>
</div>
<center><i>* TLE: Time Limit Exceed, 超出运行时长要求限制。</i></center>



<p><img src="/report/IntroToAI/Visualization.png" alt></p>
<center><strong>图 8-1  实验结果可视化</strong></center>





<h1 align="center">遗传算法求最值问题实验报告 </h1>

<h2 id="遗传算法的基本原理"><a href="#遗传算法的基本原理" class="headerlink" title="遗传算法的基本原理"></a>遗传算法的基本原理</h2><p>遗传算法是一种模拟达尔文生物进化论的自然选择和遗传学原理的优化算法。其基本原理归纳如下：</p>
<ol>
<li><strong>编码</strong>：在遗传算法开始之前，问题的解决方案被编码成一定长度的染色体，通常是二进制字符串。</li>
<li><strong>初始群体</strong>：算法随机生成一个初始种群，这个种群由多个染色体（即潜在的解决方案）组成。</li>
<li><strong>适应度函数</strong>：定义一个适应度函数来评价种群中每个个体的适应度，即它们的解决问题的能力。适应度越高的个体被认为是越好的解决方案。</li>
<li><strong>选择</strong>：根据个体的适应度进行选择。适应度高的个体更有可能被选中用于下一代的繁殖。</li>
<li><strong>交叉</strong>：模拟生物的杂交过程，交叉是遗传算法中的一种重要操作。它通过混合两个父代染色体的基因来产生新的后代。</li>
<li><strong>变异</strong>：通过随机改变个体染色体中的一个或多个基因来引入新的遗传材料，保证种群不会陷入局部最优解。</li>
<li><strong>新一代</strong>：通过选择、交叉和变异生成的新个体构成新的种群。这个过程会不断重复，种群会逐渐向更优解进化。</li>
<li><strong>终止条件</strong>：算法继续迭代直到满足特定的终止条件，如达到最大迭代次数、适应度达到要求的阈值或适应度长时间未改善等。</li>
</ol>
<p>遗传算法利用了自然选择的“优胜劣汰”原理和基因的交叉与变异原理，使得种群能够不断进化，最终趋向于最优解。这种基于群体的搜索策略有效地平衡了解空间的全局搜索和局部探索能力，因而能够在各种复杂的优化问题中找到高质量的解。</p>
<p>遗传算法的流程图图下图所示：</p>
<p><img src="/report/IntroToAI/GA.png" alt></p>
<p>遗传算法的伪代码如下所示：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 初始化参数：</span><br><span class="line">   max_generations := 最大迭代次数</span><br><span class="line">   population_size := 种群大小</span><br><span class="line">   crossover_rate := 交叉概率</span><br><span class="line">   mutation_rate := 变异概率</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 定义适应度函数 fitness_function(individual)</span><br><span class="line">   <span class="comment">// 根据问题定义，计算一个个体的适应度</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 创建初始种群：</span><br><span class="line">   population := 随机生成 population_size 个个体</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> <span class="keyword">for</span> generation in <span class="number">1</span> to max_generations do</span><br><span class="line">      <span class="comment">// 评估当前种群中每个个体的适应度</span></span><br><span class="line">      fitness_values := 计算 population 中每个个体的适应度 fitness_function(individual)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 选择操作：基于适应度选择个体用于繁殖</span></span><br><span class="line">      parents := 选择 population 中的个体基于 fitness_values</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 交叉操作：在父代个体中进行配对并交叉，生成后代</span></span><br><span class="line">      offspring := 空集合</span><br><span class="line">      <span class="keyword">for</span> i in <span class="number">1</span> to population_size/<span class="number">2</span> do</span><br><span class="line">         parent1, parent2 := 选择 parents 中的一对个体</span><br><span class="line">         child1, child2 := 执行交叉 parent1 和 parent2 用 crossover_rate</span><br><span class="line">         将 child1 和 child2 添加到 offspring</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 变异操作：对后代进行随机变异</span></span><br><span class="line">      <span class="keyword">for</span> individual in offspring do</span><br><span class="line">         执行变异 individual 用 mutation_rate</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 生成新的种群</span></span><br><span class="line">      population := parents 并集 offspring</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 可选：保存最佳个体或者进行其他种群管理操作</span></span><br><span class="line"></span><br><span class="line">   end <span class="keyword">for</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span> 返回最佳解或者整个种群</span><br></pre></td></tr></table></figure>
<h2 id="初始值的设置对结果的影响"><a href="#初始值的设置对结果的影响" class="headerlink" title="初始值的设置对结果的影响"></a>初始值的设置对结果的影响</h2><h3 id="问题一：哪些影响"><a href="#问题一：哪些影响" class="headerlink" title="问题一：哪些影响"></a>问题一：哪些影响</h3><p>在遗传算法中，交叉概率和变异概率是两个核心参数，它们对算法的性能和求解过程产生深远影响。下面分别讨论这两个参数的影响：</p>
<ol>
<li>交叉概率（Crossover Probability）:<ul>
<li>高交叉概率<ul>
<li>促进基因多样性：高交叉概率意味着种群中的个体有更多机会与其他个体交换基因，这有助于在种群中创造出更多的基因多样性。</li>
<li>加速收敛：由于基因的广泛交换，算法可能更快地找到问题的优化区域，从而加速解决方案的收敛。</li>
<li>破坏优秀解：同时，过高的交叉概率可能导致优秀个体的优质基因被破坏，因为太频繁的基因重组可能会分解良好的基因组合。</li>
</ul>
</li>
<li>低交叉概率<ul>
<li>缓慢进化：如果交叉概率太低，新的个体可能就是父代的近乎完全复制品，这会限制种群的进化速度。</li>
<li>降低多样性：基因交换的减少可能导致种群多样性的降低，增加早熟收敛到局部最优解的风险。</li>
</ul>
</li>
</ul>
</li>
<li>变异概率（Mutation Probability）:<ul>
<li>高变异概率<ul>
<li>增加多样性：变异是引入新特征的主要方式，高变异率可以增加种群的遗传多样性，有助于算法跳出局部最优。</li>
<li>防止早熟收敛：通过引入新的基因变体，高变异率可以帮助防止算法过早收敛到非最优解。</li>
<li>过度随机化：然而，过高的变异率可能导致种群过于随机，解决方案可能在搜索空间中随机漫游，而无法有效地收敛。</li>
</ul>
</li>
<li>低变异概率<ul>
<li>稳定性：低变异率可以帮助维持优秀个体的基因，减少优质解被破坏的风险。</li>
<li>可能的早熟收敛：如果变异率太低，可能不足以防止算法陷入局部最优解，特别是在解决复杂或具有众多局部最优的问题时。</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>综上所述，交叉概率和变异概率需要根据问题的特性和算法的实际表现进行仔细调整。没有一种通用的最佳设置，它们的最佳值通常是通过实验和问题分析得出的。过高或过低的这些参数都可能妨碍遗传算法找到一个有效的全局最优解。在实践中，经常需要进行多次试验和调整，以找到特定问题的最佳参数设置，<strong>详见问题二的叙述</strong>。</p>
<h3 id="问题二：如何设置"><a href="#问题二：如何设置" class="headerlink" title="问题二：如何设置"></a>问题二：如何设置</h3><p>在使用遗传算法进行求解时，正确设置交叉概率和变异概率是至关重要的，因为它们直接影响到算法的搜索能力和收敛性能。以下是一些指导原则和方法，可以帮助你设置这些参数：</p>
<ol>
<li><strong>经验设置</strong>:<ul>
<li><strong>交叉概率</strong>: 通常，交叉概率被设置为相对较高的值，例如0.6至0.9，以促进有用基因的传播和种群多样性的保持。</li>
<li><strong>变异概率</strong>: 变异概率通常设置得较低，例如0.01至0.1，因为过高的变异率可能导致过度探索和算法收敛的随机性。</li>
</ul>
</li>
<li><strong>问题相关性</strong>:<ul>
<li>了解你要解决问题的性质很重要。对于一些复杂的问题，可能需要更高的变异率来避免局部最优。而对于一些相对简单或者解空间平滑的问题，较高的交叉率和较低的变异率可能更适合。</li>
</ul>
</li>
<li><strong>适应性方法</strong>:<ul>
<li>一些高级的遗传算法使用自适应方法来动态调整交叉和变异率，这基于当前种群的表现。例如，如果种群的多样性下降，算法可能会自动增加变异率。</li>
</ul>
</li>
<li><strong>实验调优</strong>:<ul>
<li>参数设置通常需要多次实验来确定。通过观察算法在不同参数设置下的表现，你可以逐渐调整它们以获得最佳表现。设计实验时，可以使用参数敏感性分析、网格搜索或贝叶斯优化方法。</li>
</ul>
</li>
<li><strong>参考文献</strong>:<ul>
<li>查看相关研究和文献来了解类似问题上成功应用的参数设置。通过学习先前的研究，你可以获得关于可能的最佳参数范围的初始见解。</li>
</ul>
</li>
<li><strong>使用启发式规则</strong>:<ul>
<li>一些研究提出了启发式规则来设置参数，例如，当种群规模较大时，可能需要较低的交叉和变异率，因为大的种群本身就提供了更多的多样性。</li>
</ul>
</li>
<li><strong>并行试验</strong>:<ul>
<li>如果资源允许，可以并行运行多个算法实例，每个实例使用不同的参数组合。在一系列运行后，选择表现最佳的参数组合。</li>
</ul>
</li>
</ol>
<p>需要注意的是，不存在一种通用的“最佳”设置，因为最有效的参数设置取决于特定的问题和算法实现。因此，通常需要通过实验来确定适用于特定问题的最佳参数配置。同时，参数设置不仅仅是一个一次性的过程，而是一个持续的过程，可能需要根据算法的长期表现进行调整。</p>
<h2 id="Python代码实现"><a href="#Python代码实现" class="headerlink" title="Python代码实现"></a>Python代码实现</h2><blockquote>
<p>Python代码的编写使用Jupyter Notebook进行，所以在报告中进行分段展示。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 目标函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">objective_function</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span> * np.sin(<span class="number">5</span>*x) + <span class="number">7</span> * np.<span class="built_in">abs</span>(x-<span class="number">5</span>) + <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数</span></span><br><span class="line">npop = <span class="number">100</span>  <span class="comment"># 种群数量</span></span><br><span class="line">ngen = <span class="number">100</span>  <span class="comment"># 进化代数</span></span><br><span class="line">mutation_rate = <span class="number">0.1</span>  <span class="comment"># 变异概率</span></span><br><span class="line">crossover_rate = <span class="number">0.8</span>  <span class="comment"># 交叉概率</span></span><br><span class="line">lb, ub = <span class="number">0</span>, <span class="number">10</span>  <span class="comment"># 变量x的范围</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成初始种群</span></span><br><span class="line">population = np.random.uniform(lb, ub, npop)</span><br><span class="line">fitness = objective_function(population)</span><br><span class="line"></span><br><span class="line">best_fitness = []</span><br><span class="line">best_individuals = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进化过程</span></span><br><span class="line"><span class="keyword">for</span> gen <span class="keyword">in</span> <span class="built_in">range</span>(ngen):</span><br><span class="line">    <span class="comment"># 选择：轮盘赌选择法</span></span><br><span class="line">    fitness_prob = fitness / np.<span class="built_in">sum</span>(fitness)</span><br><span class="line">    selected_parents = np.random.choice(population, size=npop, p=fitness_prob)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 交叉</span></span><br><span class="line">    children = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, npop, <span class="number">2</span>):</span><br><span class="line">        p1, p2 = selected_parents[i], selected_parents[i+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> np.random.rand() &lt; crossover_rate:</span><br><span class="line">            child1 = p2</span><br><span class="line">            child2 = p1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            child1, child2 = p1, p2</span><br><span class="line">        children.extend([child1, child2])</span><br><span class="line">    children = np.array(children)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 变异</span></span><br><span class="line">    mutation_mask = np.random.rand(npop) &lt; mutation_rate</span><br><span class="line">    mutation_values = np.random.uniform(-<span class="number">1</span>, <span class="number">1</span>, npop) * mutation_mask</span><br><span class="line">    children = children + mutation_values</span><br><span class="line">    children = np.clip(children, lb, ub)  <span class="comment"># 确保子代在定义域内</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 替换</span></span><br><span class="line">    total_population = np.concatenate([population, children])</span><br><span class="line">    total_fitness = objective_function(total_population)</span><br><span class="line">    idx = np.argsort(total_fitness)[:npop]  <span class="comment"># 选择适应度最好的个体</span></span><br><span class="line">    population = total_population[idx]</span><br><span class="line">    fitness = total_fitness[idx]</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 记录每代的最佳适应度和个体</span></span><br><span class="line">    best_fitness.append(fitness[<span class="number">0</span>])</span><br><span class="line">    best_individuals.append(population[<span class="number">0</span>])</span><br><span class="line">    <span class="comment"># 最佳适应度曲线</span></span><br><span class="line">    plt.figure(figsize=(<span class="number">12</span>, <span class="number">5</span>))</span><br><span class="line">    x_index = np.linspace(<span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">    plt.title(<span class="string">&#x27;Best_fitness Curve&#x27;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">    plt.plot(x_index, best_fitness, label=<span class="string">&quot;best_fitness&quot;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&quot;x&quot;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&quot;y&quot;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.grid(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p><img src="/report/IntroToAI/best_fitness.png" alt></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最佳个体曲线</span></span><br><span class="line">plt.title(<span class="string">&#x27;Best_individuals Curve&#x27;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">plt.plot(x_index, best_individuals, label=<span class="string">&quot;best_fitness&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;x&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;y&quot;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/report/IntroToAI/best_individuals.png" alt></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 结果</span></span><br><span class="line">best_fitness, best_x = best_fitness[-<span class="number">1</span>], best_individuals[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">best_fitness, best_x</span><br></pre></td></tr></table></figure>
<p>Console输出：</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1.9151576579498766</span>, <span class="number">4.741060612805114</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可视化</span></span><br><span class="line">x = np.linspace(lb, ub, <span class="number">1000</span>)</span><br><span class="line">y = objective_function(x)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数可视化</span></span><br><span class="line">plt.plot(x, y, label=<span class="string">&quot;Target Function&quot;</span>)</span><br><span class="line">plt.scatter([best_x], [best_fitness], color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.title(<span class="string">f&quot;Minimum: x=<span class="subst">&#123;best_x:<span class="number">.2</span>f&#125;</span>, y=<span class="subst">&#123;best_fitness:<span class="number">.2</span>f&#125;</span>&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;x&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;y&quot;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/report/IntroToAI/Minimum.png" alt></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">dekrt</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://dekrt.cn/report/IntroToAI/">https://dekrt.cn/report/IntroToAI/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://dekrt.cn" target="_blank">dekrt's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8A%A5%E5%91%8A-report/">报告 | report</a></div><div class="post_share"><div class="social-share" data-image="https://s11.ax1x.com/2024/02/24/pFU6oCV.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechatpay.png" target="_blank"><img class="post-qr-code-img" src="/img/wechatpay.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/report/database/"><img class="next-cover" src="https://s11.ax1x.com/2024/02/23/pFUM2md.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据库系统原理课程设计</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/report/database/" title="数据库系统原理课程设计"><img class="cover" src="https://s11.ax1x.com/2024/02/23/pFUM2md.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-22</div><div class="title">数据库系统原理课程设计</div></div></a></div><div><a href="/report/microcomputer/" title="微机原理的实验报告"><img class="cover" src="https://s11.ax1x.com/2024/02/09/pF3JFGF.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-09</div><div class="title">微机原理的实验报告</div></div></a></div><div><a href="/report/math-modeling/" title="数学建模上机实验与大作业报告"><img class="cover" src="https://s11.ax1x.com/2024/02/09/pF38iwV.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-09</div><div class="title">数学建模上机实验与大作业报告</div></div></a></div><div><a href="/report/ccd/" title="编译原理课程实验报告"><img class="cover" src="https://z1.ax1x.com/2023/12/12/pifVYB4.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-12</div><div class="title">编译原理课程实验报告</div></div></a></div><div><a href="/report/se-report/" title="软件工程课程设计 & 理论课实验报告"><img class="cover" src="https://s1.ax1x.com/2023/07/26/pCjsWb4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-18</div><div class="title">软件工程课程设计 & 理论课实验报告</div></div></a></div><div><a href="/report/os-report/" title="操作系统实验报告&课程设计"><img class="cover" src="https://s1.ax1x.com/2023/07/26/pCjs4a9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-12</div><div class="title">操作系统实验报告&课程设计</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s1.ax1x.com/2023/04/14/ppzvSxK.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">dekrt</div><div class="author-info__description">write something casually</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/dekrt"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/dekrt" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:dekrt@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://weibo.com/dekrt" target="_blank" title="Weibo"><i class="fab fa-weibo"></i></a><a class="social-icon" href="https://twitter.com/dekrt2" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a><a class="social-icon" href="https://instagram.com/dekrt" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">菜菜，捞捞</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text"> 十五数码问题求解算法及性能比较</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">  Fifteen Digital Seeking solutions and comparison </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.1.</span> <span class="toc-text">实验设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E6%A0%87%E5%92%8C%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="toc-number">2.1.1.</span> <span class="toc-text">实验目标和评价指标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E4%B8%8D%E5%90%8C%E9%9A%BE%E5%BA%A6%E7%BA%A7%E5%88%AB%E7%9A%8415%E6%95%B0%E7%A0%81%E9%97%AE%E9%A2%98%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.1.2.</span> <span class="toc-text">设计不同难度级别的15数码问题实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8E%E9%9A%BE%E5%BA%A6%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">低难度实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%9A%BE%E5%BA%A6%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">高难度实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%B9%B6%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95"><span class="toc-number">2.1.3.</span> <span class="toc-text">选择并实现不同的搜索算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%9A%84%E5%90%AF%E5%8F%91%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">不同的启发函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">实验方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">2.2.</span> <span class="toc-text">实验结果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%9A%84%E4%B8%8D%E5%90%8C%E6%96%B9%E6%B3%95%E5%8F%8A%E5%85%B6%E7%89%B9%E7%82%B9"><span class="toc-number">2.2.1.</span> <span class="toc-text">使用的不同方法及其特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C%E7%9A%84%E5%B1%95%E7%A4%BA"><span class="toc-number">2.2.2.</span> <span class="toc-text">实验结果的展示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A8%E8%AE%BA"><span class="toc-number">2.3.</span> <span class="toc-text">实验分析与讨论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83"><span class="toc-number">2.3.1.</span> <span class="toc-text">性能比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E6%80%A7%E5%92%8C%E5%AE%9A%E9%87%8F%E5%88%86%E6%9E%90"><span class="toc-number">2.3.2.</span> <span class="toc-text">定性和定量分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">2.3.3.</span> <span class="toc-text">结果可视化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">性能比较可视化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B1%82%E8%A7%A3%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">2.3.3.2.</span> <span class="toc-text">求解过程可视化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">2.4.</span> <span class="toc-text">结论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C%E6%80%BB%E7%BB%93"><span class="toc-number">2.4.1.</span> <span class="toc-text">实验结果总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B%E6%80%9D%E8%80%83%E4%B8%8E%E5%BB%BA%E8%AE%AE"><span class="toc-number">2.4.2.</span> <span class="toc-text">改进思考与建议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">2.5.</span> <span class="toc-text">参考文献</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95"><span class="toc-number">2.6.</span> <span class="toc-text">附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">2.6.1.</span> <span class="toc-text">实验代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-star-cpp"><span class="toc-number">2.6.1.1.</span> <span class="toc-text">a_star.cpp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#plot-ipynb"><span class="toc-number">2.6.1.2.</span> <span class="toc-text">plot.ipynb</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%92%8C%E5%9B%BE%E8%A1%A8"><span class="toc-number">2.6.2.</span> <span class="toc-text">实验数据表和图表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">遗传算法求最值问题实验报告 </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">3.1.</span> <span class="toc-text">遗传算法的基本原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%80%BC%E7%9A%84%E8%AE%BE%E7%BD%AE%E5%AF%B9%E7%BB%93%E6%9E%9C%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">3.2.</span> <span class="toc-text">初始值的设置对结果的影响</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%B8%80%EF%BC%9A%E5%93%AA%E4%BA%9B%E5%BD%B1%E5%93%8D"><span class="toc-number">3.2.1.</span> <span class="toc-text">问题一：哪些影响</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%BA%8C%EF%BC%9A%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.2.2.</span> <span class="toc-text">问题二：如何设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.3.</span> <span class="toc-text">Python代码实现</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/report/IntroToAI/" title="人工智能导论上机实验及课程论文"><img src="https://s11.ax1x.com/2024/02/24/pFU6oCV.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="人工智能导论上机实验及课程论文"/></a><div class="content"><a class="title" href="/report/IntroToAI/" title="人工智能导论上机实验及课程论文">人工智能导论上机实验及课程论文</a><time datetime="2024-02-23T11:43:54.000Z" title="发表于 2024-02-23 19:43:54">2024-02-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/report/database/" title="数据库系统原理课程设计"><img src="https://s11.ax1x.com/2024/02/23/pFUM2md.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库系统原理课程设计"/></a><div class="content"><a class="title" href="/report/database/" title="数据库系统原理课程设计">数据库系统原理课程设计</a><time datetime="2024-02-22T06:02:42.000Z" title="发表于 2024-02-22 14:02:42">2024-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/report/microcomputer/" title="微机原理的实验报告"><img src="https://s11.ax1x.com/2024/02/09/pF3JFGF.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="微机原理的实验报告"/></a><div class="content"><a class="title" href="/report/microcomputer/" title="微机原理的实验报告">微机原理的实验报告</a><time datetime="2024-02-09T08:59:46.000Z" title="发表于 2024-02-09 16:59:46">2024-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/report/math-modeling/" title="数学建模上机实验与大作业报告"><img src="https://s11.ax1x.com/2024/02/09/pF38iwV.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数学建模上机实验与大作业报告"/></a><div class="content"><a class="title" href="/report/math-modeling/" title="数学建模上机实验与大作业报告">数学建模上机实验与大作业报告</a><time datetime="2024-02-09T07:41:13.000Z" title="发表于 2024-02-09 15:41:13">2024-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/report/ccd/" title="编译原理课程实验报告"><img src="https://z1.ax1x.com/2023/12/12/pifVYB4.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编译原理课程实验报告"/></a><div class="content"><a class="title" href="/report/ccd/" title="编译原理课程实验报告">编译原理课程实验报告</a><time datetime="2023-12-12T12:09:46.000Z" title="发表于 2023-12-12 20:09:46">2023-12-12</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://s11.ax1x.com/2024/02/24/pFU6oCV.webp')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By dekrt</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">一点绵薄之力</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '919vOTDx94zr39dk7GN8V5oO-gzGzoHsz',
      appKey: 'SNQo190ERObk522PearaqLyG',
      avatar: 'mp',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>